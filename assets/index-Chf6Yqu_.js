import{r as i,o as A,d as c,a as O,c as r,b as e,n as m,u as t,e as v,t as n,w as y,F as k,f as h,g as I,v as U,h as L,i as R,j as Y,E as T,k as l,l as z,m as H,p as P}from"./index-CYVgClxn.js";const Q={class:"main-body__wrapper"},q={class:"main-body__header"},G={class:"main-body__header-left"},J={class:"avatar"},K={class:"desc"},W={class:"desc-name"},X={class:"desc-date"},Z={class:"main-body__header-right"},ee={class:"main-body__content"},ae=["onClick"],oe={class:"star-date"},se={class:"main-body__summary"},te=["loading"],ne={class:"star-desc__label"},le={class:"star-desc__value"},de={key:1},ce={class:"main-body__desc"},ie={class:"star-content__des"},re={class:"star-content__value"},ue={class:"select-model"},_e={class:"select-model__body"},ve=["onClick"],me={class:"nav-item__title"},ye={class:"nav-item__date"},ke={class:"select-model__footer"},he=L({name:"HomePage"}),pe=Object.assign(he,{setup(fe){const $=[{key:"today",value:"今日"},{key:"tomorrow",value:"明日"},{key:"week",value:"本周"},{key:"month",value:"本月"},{key:"year",value:"本年"},{key:"romance",value:"爱情"}],f=i("today"),F=s=>{switch(s){case"today":d.value=c().format("YYYY-MM-DD");break;case"tomorrow":d.value=c().add(1,"day").format("YYYY-MM-DD");break;case"week":{const o=c().startOf("week").format("YYYY-MM-DD"),p=c().endOf("week").format("YYYY-MM-DD");d.value=`${o}~${p}`}break;case"month":d.value=c().format("YYYY-MM");break;case"year":d.value=c().format("YYYY");break;case"romance":d.value=c().format("YYYY-MM-DD");break}f.value=s,C()},d=i(""),j=i([{name:"综合运势",value:"",loading:!0},{name:"爱情运势",value:"",loading:!0},{name:"事业学业",value:"",loading:!0},{name:"财富运势",value:"",loading:!0},{name:"爱情运势",value:"",loading:!0},{name:"健康指数",value:"",loading:!0},{name:"幸运颜色",value:"",loading:!0},{name:"幸运数字",value:"",loading:!0},{name:"速配星座",value:"",loading:!0}]),M=[{astroid:"1",astroname:"白羊座",icon:"baiyangzuo",date:"3-21~4-19"},{astroid:"2",icon:"jinniuzuo",astroname:"金牛座",date:"4-20~5-20"},{astroid:"3",icon:"shuangzizuo",astroname:"双子座",date:"5-21~6-21"},{astroid:"4",icon:"juxiezuo",astroname:"巨蟹座",date:"6-22~7-22"},{astroid:"5",icon:"shizizuo",astroname:"狮子座",date:"7-23~8-22"},{astroid:"6",icon:"chunvzuo",astroname:"处女座",date:"8-23~9-22"},{astroid:"7",icon:"tianchengzuo",astroname:"天秤座",date:"9-23~10-23"},{astroid:"8",icon:"tianxiezuo",astroname:"天蝎座",date:"10-24~11-22"},{astroid:"9",icon:"sheshouzuo",astroname:"射手座",date:"11-23~12-21"},{astroid:"10",icon:"mojiezuo",astroname:"摩羯座",date:"12-22~1-19"},{astroid:"11",icon:"shuipingzuo",astroname:"水瓶座",date:"1-20~2-18"},{astroid:"12",icon:"shuangyuzuo",astroname:"双鱼座",date:"2-19~3-20"}],u=i(M[0]),_=i(!1),x=s=>{u.value=s,setTimeout(()=>{_.value=!1},300)},D=i([{key:"all",label:"综合运势",type:"star",value:0},{key:"work",label:"事业学业",type:"star",value:0},{key:"love",label:"爱情运势",type:"star",value:0},{key:"money",label:"财富运势",type:"star",value:0},{key:"health",label:"健康指数",value:""},{key:"number",label:"幸运数字",value:""},{key:"color",label:"幸运颜色",value:""},{key:"QFriend",label:"速配星座",value:""}]),B=["#99A9BF","#F7BA2A","#FF9900"],g=i(!1),C=async()=>{g.value=!0,R("https://web.juhe.cn/constellation/getAll",{consName:u.value.astroname,type:f.value,key:"c28ef3234057424111f5d2b93364806f"}).then(s=>{s!=null&&s.data&&D.value.forEach(o=>{o.type==="star"?o.value=Math.floor(s.data[o.key]/20):o.value=s.data[o.key],o.loading=!1})}).finally(()=>{g.value=!1})};return A(()=>{C(),d.value=c().format("YYYY-MM-DD")}),O(()=>{}),(s,o)=>{const p=Y("MxIcon"),E=Y("Sort"),w=T,N=H,S=P,V=Y("CircleClose");return l(),r("div",{id:"home",class:m(`${t(g)?"loading":""}`)},[e("div",Q,[e("div",{class:m(`main-body ${t(_)?"loading":""}`)},[e("div",q,[e("div",G,[e("div",J,[v(p,{name:t(u).icon},null,8,["name"])]),e("div",K,[e("div",W,n(t(u).astroname),1),e("div",X,n(t(u).date),1)])]),e("div",Z,[e("div",{class:"change",onClick:o[0]||(o[0]=a=>_.value=!0)},[v(w,null,{default:y(()=>[v(E)]),_:1})])])]),e("div",ee,[(l(),r(k,null,h($,a=>e("div",{key:a.key,class:m(`forecast-btn ${t(f)===a.key?"active":""}`),onClick:b=>F(a.key)},n(a.value),11,ae)),64)),e("div",oe,[e("div",null,n(t(d)),1)])]),e("div",se,[(l(!0),r(k,null,h(t(D),a=>(l(),r("div",{key:a.key,class:"star-desc",rows:5,loading:a.loading,animated:""},[e("div",ne,n(a.label),1),e("div",le,[a.type==="star"?(l(),z(N,{key:0,modelValue:a.value,"onUpdate:modelValue":b=>a.value=b,colors:B,size:"small"},null,8,["modelValue","onUpdate:modelValue"])):(l(),r("div",de,n(a.value),1))])],8,te))),128))]),e("div",ce,[(l(!0),r(k,null,h(t(j),a=>(l(),z(S,{key:a.key,class:"star-content",rows:5,loading:a.loading,animated:""},{template:y(()=>o[2]||(o[2]=[])),default:y(()=>[e("div",ie,n(a.key),1),e("div",re,n(a.value),1)]),_:2},1032,["loading"]))),128))])],2)]),I(e("div",ue,[o[3]||(o[3]=e("div",{class:"select-model__header"},null,-1)),e("div",_e,[(l(),r(k,null,h(M,a=>e("div",{key:a.astroid,class:m(`nav-item ${t(u).astroid===a.astroid?"active":""}`),onClick:b=>x(a)},[e("div",me,n(a.astroname),1),e("div",ye,n(a.date),1)],10,ve)),64))]),e("div",ke,[e("div",{class:"close",onClick:o[1]||(o[1]=a=>_.value=!1)},[v(w,null,{default:y(()=>[v(V)]),_:1})])])],512),[[U,t(_)]])],2)}}});export{pe as default};
